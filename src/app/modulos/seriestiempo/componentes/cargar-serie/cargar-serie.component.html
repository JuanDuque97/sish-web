<div class="row text-right sish-miga-de-pan">
    <div class="col-md-12 text-right">
        <ol class="breadcrumb float-sm-right sish-miga-de-pan">
            <li class="breadcrumb-item active"></li>
            <li class="breadcrumb-item"></li>
        </ol>
    </div>
  </div>
  <div class="container-fluid bg-white pt-5">
    <div class="row">
      <div class="col-md-12">
          <h2 class="sish-titulo-formulario">Series de tiempo   </h2>
          <hr />
      </div>
    </div>
  </div>
  <form class="sish-form" #ngForm="ngForm" [formGroup]="fmrCargueSerie" (ngSubmit)="guardarSerieTiempo()" novalidate>
   
    <div class="row" width="100%">
    <div class="form-group col-xl-6 col-lg-6 col-md-6 col-sm-12">
    <label>Tipo de formato</label>
    <ng-select2 name="ctrTipoFormato" [data]="listaTipoFormato" formControlName="ctrTipoFormato" [width]="'100%'" (ngModelChange)="cargarConfiguracionColumnas($event)" placeholder="Seleccione el tipo de formato">
    </ng-select2>
    </div>      
    <div class="row">
        <div class="progress form-group col-xl-4 col-lg-6 col-md-6 col-sm-12" >
          <div class="progress-bar" role="barraProgreso" [style.width.%]="[porcentaje]" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">{{porcentaje}}%</div>
        </div>
        <div class="form-group col-xl-4 col-lg-6 col-md-6 col-sm-12" *ngIf="porcentaje==100">
          <section class="section-preview">        
            <div class="input-group my-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupFileAddon01">Total registros en el archivo: {{totalRegistrosCargados}}</span>
              </div>
            </div>    
          </section>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-xl-4 col-lg-6 col-md-6 col-sm-12">
          <section class="section-preview">        
            <div class="input-group my-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupFileAddon01">Seleccione el archivo</span>
              </div>
              <div class="custom-file">
                <input type="file" accept="txt/csv"  class="custom-file-input" id="inputFileServer" (change)="cargarArchivo($event)" (click)="validarArchivo($event)" aria-describedby="inputGroupFileAddon01" multiple >
                <label class="custom-file-label" for="inputGroupFile01">Examinar</label>
              </div>
            </div>    
          </section>
        </div>
        <div class="form-group col-xl-4 col-lg-6 col-md-6 col-sm-12" *ngIf="porcentaje==100">
          <section class="section-preview">        
            <div class="input-group my-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupFileAddon01">Total registros a cargar: {{totalRegistrosCargados-contadorErrores}}</span>
              </div>
            </div>    
          </section>
        </div>
      </div> 
      <div class="row">
        <div class="form-group col-xl-12 col-lg-6 col-sm-12 ">
          <div class="btn-group mr-2" role="group" aria-label="First group">
            <button class="sish-boton-confirmar" [disabled]="isvalid()" type="submit">{{'cargarInformacion'|translate}}</button>
          </div>
  
          <div class="btn-group mr-2" role="group" aria-label="Second group">
              <button type="button" class="sish-boton-cancelar" (click)="recargarComponente()">
                      {{ 'Botones.Cancelar' | translate }}
                  </button>
          </div>
      </div>
      </div>
      <div class="row" *ngIf="totalRegistrosErrores > 0">
        <div class="form-group col-xl-12 col-lg-6 col-sm-12 ">
        <textarea class="form-control" style="color:red;"  id="txtErrores" readonly rows="10">{{arrayErrores}}</textarea>
      </div>
      </div>
    </div>
  </form>
  <app-consultar-serie></app-consultar-serie>

